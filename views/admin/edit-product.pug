extends ../layouts/main-layout.pug

block styles
    link(rel="stylesheet", href="/css/forms.css")
    link(rel="stylesheet", href="/css/product.css")

block content
    main
        form.product-form(action=`/admin/${editing === true ? "edit-product" : "add-product"}`, method="POST", enctype="multipart/form-data" )
            input(type="hidden", name="_csrf" value=csrfToken)
            if editing === true
                input(type="hidden", name="id" value=productData.id)
            .form-control
                label(for="title") Title
                input(type="text", name="title", value=(editing ? productData.title : oldInput.title))#title
            //- .form-control
            //-     label(for="imageUrl") Image
            //-     input(type="text", name="imageUrl", value=(editing ? productData.imageUrl : ''))#imageUrl
            .form-control
                label(for="image") Image
                input(type="file", name="image")#imageUrl
            .form-control
                label(for="description") Description
                textarea(name="description", cols="42", rows="10")#description #{editing ? productData.description : oldInput.description}
            .form-control
                label(for="price") Price
                input(type="number", name="price", value=(editing ? productData.price : oldInput.price))#price
            button(type="submit") #{editing === true ? "Save Changes" : "Add Product"}
            if errorMessage
                p.userMsg #{errorMessage}            